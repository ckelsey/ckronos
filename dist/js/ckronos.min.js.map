{"version":3,"sources":["app.js","ckronos-buttons.js","ckronos-calendar-navigation.js","ckronos-calendar.js","ckronos-clock.js","ckronos-date-string.js","ckronos-date.js","ckronos-leading-zero.js","ckronos-service.js","ckronos-time.js"],"names":["ckronos","angular","module","directive","restrict","scope","cancel","update","template","link","elm","on","$destroy","CKronos","date","setMonth","setToday","dateObject","parseDate","watchDate","$watch","newVal","oldVal","Date","$on","$compile","$timeout","dateHtml","controller","$scope","compile","self","calendar","rows","isNaN","day","month","year","cell","first_day","getDay","days","i","data","active","differentMonth","push","previousMonth","monthsInYear","previousYear","j","index","unshift","weeks","Math","ceil","length","total_cells","cells_to_add","c","newMonth","newYear","cell_counter","v","tempYear","tempMonth","tempDay","hasOwnProperty","html","this","validDate","watchDateObject","$watchCollection","watchDateHtml","controllerAs","$window","showSeconds","continuous","analog","analogDragEnd","e","document","body","removeEventListener","updateAnalog","continuousUpdate","undefined","parseInt","animate","updateAnalogFlag","val","showAnalog","updateShowSecondsFlag","showSecondsDisplay","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","oRequestAnimationFrame","lastTime","callback","currTime","getTime","timeToCall","max","setTimeout","hourDegrees","minuteDegrees","secondDegrees","getTicks","Array","element","querySelector","rect","getBoundingClientRect","radius","width","left","top","cx","cy","dx","clientX","dy","clientY","angle","atan2","PI","degrees","round","percent","hour","minute","floor","time","second","analogDragStart","addEventListener","validate","type","value","watchAnalog","watchShowSeconds","require","attr","ngModel","out","input","d","el","errorTargetSelector","querySelectorAll","removeClass","errorClass","addClass","into","target","$parsers","$formatters","n","o","showTime","attrs","hasShowTime","getElementById","id","remove","content","append","clickEvent","setClickEvent","toggleSelector","unbind","bind","updateModel","$setViewValue","$modelValue","model","overlay","toggler","originalValue","copy","updateDateObject","close","updateAndClose","updateFromEvent","s","setEventData","updateTime","amount","modelValue","service","Object","prototype","toString","call","displayTime","display","timeObject","parseTime","values_keys","key","Hour","ampm","toUpperCase","values_keys_length","indexOf","replace","h","min","sec","getHours","getMinutes","getSeconds","displayDate","month_array_short","month_array_long","day_array_short","day_array_long","substr","y","m","t","getYear","getMonth","getDate","longname","shortname","daysInMonth","mon","resetDate","setHours","setMinutes","setSeconds","setYear","setDate","obj","stopPropagation","_this","currentTarget","getAttribute","removeChild"],"mappings":"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","file":"ckronos.min.js","sourcesContent":["(function(ckronos){})(angular.module('ckronos', [\n\t'ngSanitize'\n]));\n","(function(ckronos){\n\tckronos.directive('ckronosButtons', function() {\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tcancel: '=?',\n\t\t\t\tupdate: '=?'\n\t\t\t},\n\t\t\ttemplateUrl: '../html/ckronos-buttons.html',\n\t\t\tlink: function(scope, elm){\n\t\t\t\telm.on('$destroy', function(){\n\t\t\t\t\tscope.$destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n})(angular.module('ckronos'));\n","(function(ckronos){\n\t'use strict';\n\n\tckronos.directive('ckronosCalendarNavigation', function(CKronos){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tdate: '=',\n\t\t\t\tsetMonth: '=',\n\t\t\t\tsetToday: '='\n\t\t\t},\n\t\t\ttemplateUrl: '../html/ckronos-calendar-navigation.html',\n\t\t\tlink: function(scope, elm){\n\n\t\t\t\tif(!scope.date){\n\t\t\t\t\tscope.dateObject = CKronos.parseDate();\n\t\t\t\t}else{\n\t\t\t\t\tscope.dateObject = CKronos.parseDate(scope.date);\n\t\t\t\t}\n\n\t\t\t\tvar watchDate = scope.$watch(function(){\n\t\t\t\t\treturn scope.date;\n\t\t\t\t}, function(newVal, oldVal){\n\t\t\t\t\tif(newVal !== oldVal){\n\t\t\t\t\t\tscope.dateObject = CKronos.parseDate(new Date(newVal));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tscope.$on('$destroy', function() {\n\t\t\t\t\twatchDate();\n\t\t\t\t});\n\n\t\t\t\telm.on('$destroy', function(){\n\t\t\t\t\tscope.$destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n\n\n})(angular.module('ckronos'));\n","(function(ckronos){\n\t'use strict';\n\n\tckronos.directive('ckronosCalendar', function(CKronos, $compile, $timeout){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tupdate: '=?',\n\t\t\t\tdateHtml: '=?',\n\t\t\t\tdate: '=?'\n\t\t\t},\n\t\t\ttemplateUrl: '../html/ckronos-calendar.html',\n\t\t\tcontroller: function($scope){\n\n\t\t\t\tif(!$scope.date){\n\t\t\t\t\t$scope.dateObject = CKronos.parseDate();\n\t\t\t\t}else{\n\t\t\t\t\t$scope.dateObject = CKronos.parseDate($scope.date);\n\t\t\t\t}\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tfunction compile(){\n\t\t\t\t\tself.calendar = {\n\t\t\t\t\t\trows:[]\n\t\t\t\t\t};\n\n\t\t\t\t\tif(!isNaN($scope.dateObject.day) && !isNaN($scope.dateObject.month) && !isNaN($scope.dateObject.year)){\n\t\t\t\t\t\tvar cell = null;\n\t\t\t\t\t\tvar first_day = new Date($scope.dateObject.year, $scope.dateObject.month, 1).getDay();\n\t\t\t\t\t\tvar days = [];\n\n\t\t\t\t\t\tfor(var i=1; i<$scope.dateObject.data[$scope.dateObject.month].days+1; i=i+1){\n\t\t\t\t\t\t\tcell = {\n\t\t\t\t\t\t\t\tday: i,\n\t\t\t\t\t\t\t\tmonth: $scope.dateObject.month,\n\t\t\t\t\t\t\t\tyear: $scope.dateObject.year,\n\t\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t\t\tdifferentMonth: false\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tdays.push(cell);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(first_day > 0){\n\t\t\t\t\t\t\tvar previousMonth = ($scope.dateObject.month === 0)? CKronos.monthsInYear($scope.dateObject.year-1)[11] : $scope.dateObject.data[$scope.dateObject.month-1];\n\t\t\t\t\t\t\tvar previousYear = ($scope.dateObject.month === 0)? $scope.dateObject.year - 1 : $scope.dateObject.year;\n\t\t\t\t\t\t\tfor(var j=0; j<first_day; j=j+1){\n\t\t\t\t\t\t\t\tcell = {\n\t\t\t\t\t\t\t\t\tday: previousMonth.days - j,\n\t\t\t\t\t\t\t\t\tmonth: previousMonth.index,\n\t\t\t\t\t\t\t\t\tyear: previousYear,\n\t\t\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t\t\t\tdifferentMonth: true\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tdays.unshift(cell);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar weeks = Math.ceil(days.length / 7);\n\t\t\t\t\t\tvar total_cells = weeks * 7;\n\t\t\t\t\t\tvar cells_to_add = total_cells - days.length;\n\t\t\t\t\t\tfor(var c=1; c<=cells_to_add; c=c+1){\n\t\t\t\t\t\t\tvar newMonth = ($scope.dateObject.month === 11)? CKronos.monthsInYear($scope.dateObject.year+1)[0] : $scope.dateObject.data[$scope.dateObject.month+1];\n\t\t\t\t\t\t\tvar newYear = ($scope.dateObject.month === 11)? $scope.dateObject.year+1 : $scope.dateObject.year;\n\t\t\t\t\t\t\tcell = {\n\t\t\t\t\t\t\t\tday: c,\n\t\t\t\t\t\t\t\tmonth: newMonth.index,\n\t\t\t\t\t\t\t\tyear: newYear,\n\t\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t\t\tdifferentMonth: true\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tdays.push(cell);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar cell_counter = 0;\n\t\t\t\t\t\tfor(var v=0; v<days.length; v=v+1){\n\t\t\t\t\t\t\tif(cell_counter === 0){\n\t\t\t\t\t\t\t\tself.calendar.rows.push([]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(days[v].day === $scope.dateObject.day && days[v].month === $scope.dateObject.month && days[v].year === $scope.dateObject.year){\n\t\t\t\t\t\t\t\tdays[v].active = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar tempYear = days[v].year;\n\t\t\t\t\t\t\tvar tempMonth = days[v].month;\n\t\t\t\t\t\t\tvar tempDay = days[v].day;\n\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\t$scope.hasOwnProperty('dateHtml') && $scope.dateHtml &&\n\t\t\t\t\t\t\t\t$scope.dateHtml.hasOwnProperty(tempYear) && $scope.dateHtml[tempYear] &&\n\t\t\t\t\t\t\t\t$scope.dateHtml[tempYear].hasOwnProperty(tempMonth) && $scope.dateHtml[tempYear][tempMonth] &&\n\t\t\t\t\t\t\t\t$scope.dateHtml[tempYear][tempMonth].hasOwnProperty(tempDay) && $scope.dateHtml[tempYear][tempMonth][tempDay]\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\tdays[v].html = $scope.dateHtml[tempYear][tempMonth][tempDay];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.calendar.rows[self.calendar.rows.length - 1].push(days[v]);\n\n\t\t\t\t\t\t\tif(cell_counter === 6){\n\t\t\t\t\t\t\t\tcell_counter = 0;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tcell_counter++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcompile();\n\n\t\t\t\tvar watchDate = $scope.$watch(function(){\n\t\t\t\t\treturn $scope.date;\n\t\t\t\t}, function(newVal, oldVal){\n\t\t\t\t\tif(newVal !== oldVal){\n\t\t\t\t\t\tif(CKronos.validDate(new Date(newVal)) && CKronos.parseDate(new Date(newVal)) !== $scope.dateObject.date){\n\t\t\t\t\t\t\t$scope.dateObject = CKronos.parseDate(new Date(newVal));\n\t\t\t\t\t\t\tcompile();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar watchDateObject = $scope.$watchCollection(function(){\n\t\t\t\t\treturn $scope.dateObject;\n\t\t\t\t}, function(newVal, oldVal){\n\t\t\t\t\tcompile();\n\t\t\t\t});\n\n\t\t\t\tvar watchDateHtml = $scope.$watch(function(){\n\t\t\t\t\treturn $scope.dateHtml;\n\t\t\t\t}, function(newVal, oldVal){\n\t\t\t\t\tcompile();\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\t\twatchDate();\n\t\t\t\t\twatchDateHtml();\n\t\t\t\t\twatchDateObject();\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'ctlr',\n\n\t\t\tlink: function(scope, elm){\n\t\t\t\telm.on('$destroy', function(){\n\t\t\t\t\tscope.$destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n\n})(angular.module('ckronos'));\n","(function(ckronos){\n\t'use strict';\n\n\tckronos.directive('ckronosClock', function(CKronos, $timeout, $window){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tupdate: '=?',\n\t\t\t\tshowSeconds: '=?',\n\t\t\t\tcontinuous: '=?',\n\t\t\t\tanalog: '=?',\n\t\t\t\tdate: '=?'\n\t\t\t},\n\t\t\tcontroller: function($scope){},\n\t\t\tcontrollerAs: 'ctlr',\n\t\t\ttemplateUrl: '../html/ckronos-clock.html',\n\t\t\tlink: function($scope, elm){\n\n\t\t\t\t// requestAnimationFrame polyfill, modified from https://gist.github.com/paulirish/1579671\n\t\t\t\tvar animate = $window.requestAnimationFrame || $window.msRequestAnimationFrame || $window.mozRequestAnimationFrame || $window.webkitRequestAnimationFrame || $window.oRequestAnimationFrame;\n\t\t\t\tvar lastTime = 0;\n\t\t\t\tif (!animate){\n\t\t\t\t\tanimate = function(callback) {\n\t\t\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\t\t\t$window.setTimeout(function() { callback(currTime + timeToCall); }, timeToCall);\n\t\t\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif(!$scope.dateObject){\n\t\t\t\t\tif(!$scope.date){\n\t\t\t\t\t\t$scope.dateObject = CKronos.parseDate();\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$scope.dateObject = CKronos.parseDate($scope.date);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.showAnalog = 0;\n\t\t\t\t$scope.hourDegrees = 30;\n\t\t\t\t$scope.minuteDegrees = -30;\n\t\t\t\t$scope.secondDegrees = 0;\n\n\t\t\t\t$scope.getTicks = function(){\n\t\t\t\t\treturn new Array(60);\n\t\t\t\t};\n\n\t\t\t\t$scope.updateAnalog = function(e){\n\t\t\t\t\tif($scope.showAnalog && ($scope.continuous === undefined || (parseInt($scope.continuous) !== 1 && $scope.continuous !== 'true' && $scope.continuous !== true)) && e){\n\n\t\t\t\t\t\tvar element = elm[0].querySelector('.ckronos_clock_type_analog-inner');\n\n\t\t\t\t\t\tif(element){\n\t\t\t\t\t\t\tvar rect = element.getBoundingClientRect();\n\t\t\t\t\t\t\tvar radius = rect.width / 2;\n\t\t\t\t\t\t\tvar left = rect.left;\n\t\t\t\t\t\t\tvar top = rect.top;\n\n\t\t\t\t\t\t\t/* Clock center points */\n\t\t\t\t\t\t\tvar cx = radius + left;\n\t\t\t\t\t\t\tvar cy = radius + top;\n\n\t\t\t\t\t\t\t/* Mouse position distance from clock center */\n\t\t\t\t\t\t\tvar dx = e.clientX - cx;\n\t\t\t\t\t\t\tvar dy = e.clientY - cy;\n\n\t\t\t\t\t\t\t/* degrees */\n\t\t\t\t\t\t\tvar angle = Math.atan2(dy, dx) * (180 / Math.PI);\n\t\t\t\t\t\t\tvar degrees = angle + 90 - 180;\n\t\t\t\t\t\t\tif(degrees < 0){\n\t\t\t\t\t\t\t\tdegrees = degrees + 360;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdegrees = (Math.round(degrees) > -1 || Math.round(degrees) < 360)? Math.round(degrees) : 0 ;\n\t\t\t\t\t\t\tvar percent = (degrees / 360);\n\t\t\t\t\t\t\tpercent = (percent < 0.5) ? percent + 0.5 : percent - 0.5;\n\n\t\t\t\t\t\t\tvar hour = 12 * percent;\n\t\t\t\t\t\t\tvar minute = (hour - Math.floor(hour)) * 60;\n\n\t\t\t\t\t\t\t$scope.dateObject.time.hour = Math.floor(hour);\n\t\t\t\t\t\t\t$scope.dateObject.time.minute = Math.floor(minute);\n\t\t\t\t\t\t\t$scope.dateObject.time.second = 0;\n\n\t\t\t\t\t\t\tif($scope.update){\n\t\t\t\t\t\t\t\t$scope.update($scope.dateObject.time);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$scope.hourDegrees = (($scope.dateObject.time.hour + ($scope.dateObject.time.minute / 60)) / 12) * 360;\n\t\t\t\t\t\t$scope.minuteDegrees = (($scope.dateObject.time.minute + ($scope.dateObject.time.second / 60)) / 60) * 360;\n\t\t\t\t\t\t$scope.secondDegrees = ($scope.dateObject.time.second / 60) * 360;\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tfunction analogDragEnd(e){\n\t\t\t\t\tdocument.body.removeEventListener('mousemove', $scope.updateAnalog, false);\n\t\t\t\t\tdocument.body.removeEventListener('mouseup', analogDragEnd, false);\n\t\t\t\t\t$scope.updateAnalog(e);\n\t\t\t\t}\n\n\t\t\t\tfunction continuousUpdate(){\n\t\t\t\t\tif($scope.continuous !== undefined && ($scope.continuous === true || $scope.continuous === 'true' || parseInt($scope.continuous) === 1)){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\t$scope.dateObject = CKronos.parseDate();\n\t\t\t\t\t\t\t$scope.updateAnalog();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tanimate(continuousUpdate);\n\t\t\t\t}\n\n\t\t\t\tfunction updateAnalogFlag(val){\n\t\t\t\t\tif(val === undefined || parseInt(val) === 0 || val === 'false' || val === false){\n\t\t\t\t\t\t$scope.showAnalog = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$scope.showAnalog = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.updateAnalog();\n\t\t\t\t}\n\n\t\t\t\tfunction updateShowSecondsFlag(val){\n\t\t\t\t\tif(val !== undefined && (val === 'false' || val === false || val === '0' || val === 0)){\n\t\t\t\t\t\t$scope.showSecondsDisplay = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$scope.showSecondsDisplay = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.analogDragStart = function(e){\n\t\t\t\t\t$scope.updateAnalog(e);\n\n\t\t\t\t\tdocument.body.addEventListener('mousemove', $scope.updateAnalog, false);\n\t\t\t\t\tdocument.body.addEventListener('mouseup', analogDragEnd, false);\n\t\t\t\t};\n\n\t\t\t\t$scope.validate = function(type, value){\n\t\t\t\t\tif($scope.update){\n\t\t\t\t\t\tif(type === 'ampm'){\n\t\t\t\t\t\t\treturn $scope.update($scope.dateObject.time);\n\t\t\t\t\t\t}else if(!isNaN(value) && parseInt(value) > -1){\n\t\t\t\t\t\t\tif(type === 'hour' && parseInt(value) === 0){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn $scope.update($scope.dateObject.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\tcontinuousUpdate();\n\t\t\t\tupdateAnalogFlag($scope.analog);\n\t\t\t\tupdateShowSecondsFlag($scope.showSeconds);\n\n\t\t\t\tvar watchAnalog = $scope.$watch(function(){return $scope.analog;}, function(newVal, oldVal){\n\t\t\t\t\tif(newVal !== oldVal){\n\t\t\t\t\t\tupdateAnalogFlag(newVal);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar watchDate = $scope.$watch(function(){\n\t\t\t\t\treturn $scope.date;\n\t\t\t\t}, function(newVal, oldVal){\n\t\t\t\t\tif(newVal !== oldVal){\n\t\t\t\t\t\tif(CKronos.validDate(new Date(newVal))){\n\t\t\t\t\t\t\t$scope.dateObject = CKronos.parseDate(new Date(newVal));\n\t\t\t\t\t\t\t$scope.updateAnalog();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar watchShowSeconds = $scope.$watch(function(){\n\t\t\t\t\treturn $scope.showSeconds;\n\t\t\t\t}, function(newVal, oldVal){\n\t\t\t\t\tif(newVal !== oldVal){\n\t\t\t\t\t\tupdateShowSecondsFlag(newVal);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\t\twatchDate();\n\t\t\t\t\twatchAnalog();\n\t\t\t\t\twatchShowSeconds();\n\t\t\t\t});\n\n\t\t\t\telm.on('$destroy', function(){\n\t\t\t\t\t$scope.$destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n\n})(angular.module('ckronos'));\n","(function(ckronos){\n\tckronos.directive('ckronosDateString', function(CKronos){\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\trequire: 'ngModel',\n\t\t\tlink: function(scope, element, attr, ngModel) {\n\t\t\t\tvar errorTargetSelector = attr.target;\n\t\t\t\tvar errorClass = attr.errorClass || 'error';\n\n\t\t\t\tfunction out(input) {\n\t\t\t\t\tvar d = new Date(input);\n\n\t\t\t\t\tvar el = null;\n\n\t\t\t\t\tif(errorTargetSelector){\n\t\t\t\t\t\tel = angular.element(document.querySelectorAll(errorTargetSelector));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tel = element;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(el && el.length){\n\t\t\t\t\t\tif(!CKronos.validDate(d)){\n\t\t\t\t\t\t\tel.addClass(errorClass);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tel.removeClass(errorClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn d;\n\t\t\t\t}\n\n\t\t\t\tfunction into(data) {\n\t\t\t\t\tvar d = new Date(data);\n\t\t\t\t\treturn d;\n\t\t\t\t}\n\n\t\t\t\tngModel.$parsers.push(out);\n\t\t\t\tngModel.$formatters.push(into);\n\n\t\t\t\tscope.$watch(function(){\n\t\t\t\t\treturn attr.errorClass;\n\t\t\t\t}, function(n,o){\n\t\t\t\t\tif(n !== o){\n\t\t\t\t\t\terrorClass = n;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tscope.$watch(function(){\n\t\t\t\t\treturn attr.target;\n\t\t\t\t}, function(n,o){\n\t\t\t\t\tif(n !== o){\n\t\t\t\t\t\terrorTargetSelector = n;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n})(angular.module('ckronos'));\n","(function(ckronos) {\n    'use strict';\n\n    ckronos.directive('ckronosDate', function(CKronos, $compile, $timeout) {\n        return {\n            restrict: 'A',\n            scope: {\n                dateHtml: '=?',\n                showTime: '=?'\n            },\n            require: 'ngModel',\n            link: function(scope, elm, attrs, ngModel) {\n                var model = ngModel.$modelValue;\n                var id = attrs.overlay;\n                var toggleSelector = attrs.toggler;\n                var originalValue = angular.copy(model);\n                scope.active = false;\n\n                scope.dateObject = CKronos.parseDate(model);\n\n                function hasShowTime() {\n                    return (scope.showTime && (parseInt(scope.showTime) === 1 || scope.showTime === true || scope.showTime === 'true'));\n                }\n\n                function compile() {\n                    if (document.getElementById(id)) {\n                        angular.element(document.getElementById(id)).remove();\n                    }\n\n                    var template = '<div class=\"ckronos-date-time-wrapper\" ng-class=\"active? \\'active\\' : \\'\\'\" id=\"' + id + '\">' +\n                        '<div class=\"ckronos-date-time-inner\">' +\n                        '<ckronos-calendar-navigation date=\"dateObject.date\" set-month=\"setMonth\" set-today=\"setToday\"></ckronos-calendar-navigation>' +\n                        '<ckronos-calendar update=\"updateFromEvent\" date=\"dateObject.date\" date-html=\"dateHtml\"></ckronos-calendar>';\n\n                    if (hasShowTime()) {\n                        template = template + '<div class=\"ckronos-date-time_time_wrapper\">' +\n                            '<ckronos-clock date=\"dateObject.date\" update=\"updateTime\"></ckronos-clock>' +\n                            '<ckronos-buttons cancel=\"cancel\" update=\"updateAndClose\"></ckronos-buttons>' +\n                            '</div>';\n                    }\n\n                    template = template + '</div></div>';\n\n                    var content = $compile(template)(scope);\n                    angular.element(document.body).append(content);\n                }\n\n                function clickEvent() {\n                    $timeout(function() {\n                        scope.active = true;\n                        angular.element(document.body).addClass('ckronos-blur');\n                        compile();\n                    });\n                }\n\n                function setClickEvent() {\n                    var el = angular.element(document.getElementById(toggleSelector));\n                    el.unbind('click', clickEvent);\n                    el.bind('click', clickEvent);\n                }\n                setClickEvent();\n\n                function updateModel(data) {\n                    ngModel.$setViewValue(data.date);\n                    return ngModel.$modelValue;\n                }\n\n                scope.updateDateObject = function() {\n                    scope.dateObject = CKronos.update(scope.dateObject);\n                };\n\n                scope.close = function() {\n                    scope.active = false;\n                    angular.element(document.body).removeClass('ckronos-blur');\n                    if (document.getElementById(id)) {\n                        angular.element(document.getElementById(id)).remove();\n                    }\n                };\n\n                scope.cancel = function() {\n                    scope.dateObject = CKronos.parseDate(originalValue);\n                    scope.close();\n                };\n\n                scope.updateAndClose = function() {\n                    updateModel(scope.dateObject);\n                    scope.close();\n                };\n\n                scope.updateFromEvent = function(e, s) {\n                    scope.dateObject = CKronos.setEventData(e, scope.dateObject);\n\n                    if (!hasShowTime()) {\n                        scope.close();\n                        return updateModel(scope.dateObject);\n                    }\n                };\n\n                scope.updateTime = function(value) {\n                    scope.dateObject.time = value;\n                    scope.dateObject = CKronos.update(scope.dateObject);\n                };\n\n                scope.setMonth = function(amount) {\n                    if (scope.dateObject.data[scope.dateObject.month + amount]) {\n                        scope.dateObject.month = scope.dateObject.month + amount;\n                    } else {\n                        scope.dateObject.year = scope.dateObject.year + amount;\n                        if (scope.dateObject.data.length > scope.dateObject.month + amount) {\n                            scope.dateObject.month = scope.dateObject.data.length - 1;\n                        } else {\n                            scope.dateObject.month = 0;\n                        }\n                    }\n\n                    if (scope.dateObject.day > scope.dateObject.data[scope.dateObject.month].days) {\n                        scope.dateObject.day = scope.dateObject.data[scope.dateObject.month].days;\n                    }\n\n                    return scope.updateDateObject();\n                };\n\n                scope.setToday = function() {\n                    scope.dateObject = CKronos.parseDate(new Date());\n\n                    if (!hasShowTime()) {\n                        scope.close();\n                    }\n\n                    return scope.updateDateObject();\n                };\n\n                scope.$watch(function() {\n                    return ngModel.$modelValue;\n                }, function(modelValue) {\n                    if (modelValue && CKronos.validDate(modelValue)) {\n                        model = modelValue;\n                        originalValue = angular.copy(model);\n                        scope.dateObject = CKronos.parseDate(model);\n                    }\n                });\n\n                scope.$watch(function() {\n                    return attrs.toggler;\n                }, function(n, v) {\n                    setClickEvent();\n                });\n\n                elm.on('$destroy', function() {\n                    scope.$destroy();\n                });\n            }\n        };\n    });\n\n})(angular.module('ckronos'));","(function(ckronos){\n\tckronos.directive('ckronosLeadingZero', function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\trequire: 'ngModel',\n\t\t\tlink: function(scope, elm, attr, ngModel) {\n\n\t\t\t\tfunction out(input) {\n\t\t\t\t\tif(parseInt(input) < 10){\n\t\t\t\t\t\tinput = '0' + input;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn input;\n\t\t\t\t}\n\n\t\t\t\tfunction into(data) {\n\t\t\t\t\treturn parseInt(data);\n\t\t\t\t}\n\n\t\t\t\tngModel.$parsers.push(into);\n\t\t\t\tngModel.$formatters.push(out);\n\n\t\t\t\telm.on('$destroy', function(){\n\t\t\t\t\tscope.$destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n})(angular.module('ckronos'));\n","(function(ckronos){\n\t'use strict';\n\n\tckronos.service('CKronos', function(){\n\t\tvar self = {\n\t\t\tvalidDate: function(d){\n\t\t\t\tif ( Object.prototype.toString.call(d) === \"[object Date]\" ) {\n\t\t\t\t\tif ( isNaN( d.getTime() ) ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdisplayTime: function(date, display){\n\t\t\t\tdate = self.validDate(date) ? new Date(date) : new Date();\n\t\t\t\tvar timeObject = self.parseTime(date);\n\t\t\t\tvar values_keys = [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"$HH$\",\n\t\t\t\t\t\tvalue: timeObject.Hour < 10 ? '0' + timeObject.Hour : timeObject.Hour\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$H$\",\n\t\t\t\t\t\tvalue: timeObject.Hour\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$hh$\",\n\t\t\t\t\t\tvalue: timeObject.hour < 10 ? '0' + timeObject.hour : timeObject.hour\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$h$\",\n\t\t\t\t\t\tvalue: timeObject.hour\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$mm$\",\n\t\t\t\t\t\tvalue: timeObject.minute < 10 ? '0' + timeObject.minute : timeObject.minute\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$m$\",\n\t\t\t\t\t\tvalue: timeObject.minute\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$ss$\",\n\t\t\t\t\t\tvalue: timeObject.second < 10 ? '0' + timeObject.second : timeObject.second\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$s$\",\n\t\t\t\t\t\tvalue: timeObject.second\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$AMPM$\",\n\t\t\t\t\t\tvalue: timeObject.ampm.toUpperCase()\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$ampm$\",\n\t\t\t\t\t\tvalue: timeObject.ampm\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tvar values_keys_length = values_keys.length;\n\n\t\t\t\tif(!display){\n\t\t\t\t\tdisplay = '$hh$:$mm$:$ss$ $ampm$';\n\t\t\t\t}\n\n\t\t\t\tfor(var i = 0; i < values_keys_length; i++){\n\t\t\t\t\tif(display.indexOf(values_keys[i].key > -1)){\n\t\t\t\t\t\tdisplay = display.replace(values_keys[i].key, values_keys[i].value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn display;\n\t\t\t},\n\n\t\t\tparseTime: function(date){\n\t\t\t\tdate = self.validDate(date) ? new Date(date) : new Date();\n\t\t\t\tvar h, Hour, ampm, min, sec;\n\n\t\t\t\tif(date && !isNaN(date.getHours())){\n\t\t\t\t\th = date.getHours();\n\t\t\t\t\tHour = date.getHours();\n\t\t\t\t\tif(Hour > 11){\n\t\t\t\t\t\tampm = 'pm';\n\t\t\t\t\t\th = (h > 12)? h - 12 : h;\n\t\t\t\t\t}else if(Hour === 0){\n\t\t\t\t\t\th = 12;\n\t\t\t\t\t\tampm = 'am';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tampm = 'am';\n\t\t\t\t\t}\n\n\t\t\t\t\tmin = date.getMinutes();\n\t\t\t\t\tsec = date.getSeconds();\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\thour:h,\n\t\t\t\t\tHour: Hour,\n\t\t\t\t\tminute: min,\n\t\t\t\t\tsecond: sec,\n\t\t\t\t\tampm: ampm\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tdisplayDate: function(date, display){\n\t\t\t\tdate = self.validDate(date) ? new Date(date) : new Date();\n\t\t\t\tvar dateObject = self.parseDate(date);\n\t\t\t\tvar month_array_short = [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ];\n\t\t\t\tvar month_array_long = [ 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ];\n\t\t\t\tvar day_array_short = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\t\t\t\tvar day_array_long = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\t\t\t\tvar values_keys = [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"$month$\",\n\t\t\t\t\t\tvalue: month_array_long[dateObject.month]\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$mon$\",\n\t\t\t\t\t\tvalue: month_array_short[dateObject.month]\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$mm$\",\n\t\t\t\t\t\tvalue: dateObject.month + 1 < 10 ? '0' + dateObject.month + 1 : dateObject.month + 1\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$m$\",\n\t\t\t\t\t\tvalue: dateObject.month + 1\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$day$\",\n\t\t\t\t\t\tvalue: day_array_long[date.getDay()]\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$da$\",\n\t\t\t\t\t\tvalue: day_array_short[date.getDay()]\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$dd$\",\n\t\t\t\t\t\tvalue: dateObject.day < 10 ? '0' + dateObject.day : dateObject.day\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$d$\",\n\t\t\t\t\t\tvalue: dateObject.day\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$yyyy$\",\n\t\t\t\t\t\tvalue: dateObject.year.toString()\n\t\t\t\t\t},{\n\t\t\t\t\t\tkey: \"$yy$\",\n\t\t\t\t\t\tvalue: dateObject.year.toString().substr(2,2)\n\t\t\t\t\t},\n\t\t\t\t];\n\n\t\t\t\tvar values_keys_length = values_keys.length;\n\n\t\t\t\tif(!display){\n\t\t\t\t\tdisplay = '$mon$ $d$, $yyyy$';\n\t\t\t\t}\n\n\t\t\t\tfor(var i = 0; i < values_keys_length; i++){\n\t\t\t\t\tif(display.indexOf(values_keys[i].key > -1)){\n\t\t\t\t\t\tdisplay = display.replace(values_keys[i].key, values_keys[i].value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn display;\n\t\t\t},\n\n\t\t\tparseDate: function(date){\n\t\t\t\tdate = self.validDate(date) ? new Date(date) : new Date();\n\t\t\t\tvar y, m, d, t;\n\n\t\t\t\ty = (date && !isNaN(date.getYear()))? date.getYear() + 1900 : null;\n\t\t\t\tm = (date && !isNaN(date.getMonth()))? date.getMonth(): null;\n\t\t\t\td = (date && !isNaN(date.getDay()))? date.getDate(): null;\n\t\t\t\tt = self.parseTime(date);\n\n\t\t\t\treturn {\n\t\t\t\t\tdate: date,\n\t\t\t\t\tyear: y,\n\t\t\t\t\tmonth: m,\n\t\t\t\t\tday: d,\n\t\t\t\t\ttime: t,\n\t\t\t\t\tdata: self.monthsInYear(y)\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tmonthsInYear: function(year){\n\t\t\t\tyear = (!year)? new Date().getYear() + 1900 : year;\n\t\t\t\treturn [\n\t\t\t\t\t{ 'longname': 'January', 'shortname': 'Jan', 'days': self.daysInMonth(0,year), 'index':0 },\n\t\t\t\t\t{ 'longname': 'February', 'shortname': 'Feb', 'days': self.daysInMonth(1,year), 'index':1 },\n\t\t\t\t\t{ 'longname': 'March', 'shortname': 'Mar', 'days': self.daysInMonth(2,year), 'index':2 },\n\t\t\t\t\t{ 'longname': 'April', 'shortname': 'Apr', 'days': self.daysInMonth(3,year), 'index':3 },\n\t\t\t\t\t{ 'longname': 'May', 'shortname': 'May', 'days': self.daysInMonth(4,year), 'index':4 },\n\t\t\t\t\t{ 'longname': 'June', 'shortname': 'Jun', 'days': self.daysInMonth(5,year), 'index':5 },\n\t\t\t\t\t{ 'longname': 'July', 'shortname': 'Jul', 'days': self.daysInMonth(6,year), 'index':6 },\n\t\t\t\t\t{ 'longname': 'August', 'shortname': 'Aug', 'days': self.daysInMonth(7,year), 'index':7 },\n\t\t\t\t\t{ 'longname': 'September', 'shortname': 'Sep', 'days': self.daysInMonth(8,year), 'index':8 },\n\t\t\t\t\t{ 'longname': 'October', 'shortname': 'Oct', 'days': self.daysInMonth(9,year), 'index':9 },\n\t\t\t\t\t{ 'longname': 'November', 'shortname': 'Nov', 'days': self.daysInMonth(10,year), 'index':10 },\n\t\t\t\t\t{ 'longname': 'December', 'shortname': 'Dec', 'days': self.daysInMonth(11,year), 'index':11 }\n\t\t\t\t];\n\t\t\t},\n\n\t\t\tdaysInMonth: function (mon, year) { // m is 0 indexed: 0-11\n\t\t\t\tyear = (!year)? new Date().getYear() + 1900 : year;\n\t\t\t\tswitch (mon) {\n\t\t\t\t\tcase 1 :\n\t\t\t\t\treturn (year % 4 === 0 && year % 100) || year % 400 === 0 ? 29 : 28;\n\t\t\t\t\tcase 8 : case 3 : case 5 : case 10 :\n\t\t\t\t\treturn 30;\n\t\t\t\t\tdefault :\n\t\t\t\t\treturn 31;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tresetDate: function(data){\n\t\t\t\tvar date = new Date();\n\n\t\t\t\tdate.setHours(data.time.ampm === 'am' ? parseInt(data.time.hour) : parseInt(data.time.hour) + 12);\n\t\t\t\tdate.setMinutes(parseInt(data.time.minute));\n\t\t\t\tdate.setSeconds(parseInt(data.time.second));\n\t\t\t\tdate.setYear(parseInt(data.year));\n\t\t\t\tdate.setDate(parseInt(data.day));\n\t\t\t\tdate.setMonth(parseInt(data.month));\n\n\t\t\t\treturn date;\n\t\t\t},\n\n\t\t\tupdate: function(data){\n\t\t\t\treturn self.parseDate(self.resetDate(data));\n\t\t\t},\n\n\t\t\tsetEventData: function(e, obj){\n\t\t\t\tif(e){\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\tvar _this = e.currentTarget;\n\t\t\t\t\tvar day = parseInt(_this.getAttribute('day'));\n\t\t\t\t\tvar month = parseInt(_this.getAttribute('month'));\n\t\t\t\t\tvar year = parseInt(_this.getAttribute('year'));\n\t\t\t\t\tvar hour = parseInt(_this.getAttribute('hour'));\n\t\t\t\t\tvar minute = parseInt(_this.getAttribute('minute'));\n\t\t\t\t\tvar second = parseInt(_this.getAttribute('second'));\n\t\t\t\t\tvar ampm = parseInt(_this.getAttribute('ampm'));\n\n\t\t\t\t\tobj.day = !isNaN(day) ? day : obj.day;\n\t\t\t\t\tobj.month = !isNaN(month) ? month : obj.month;\n\t\t\t\t\tobj.year = !isNaN(year) ? year : obj.year;\n\t\t\t\t\tobj.hour = !isNaN(hour) ? hour : obj.hour;\n\t\t\t\t\tobj.minute = !isNaN(minute) ? minute : obj.minute;\n\t\t\t\t\tobj.second = !isNaN(second) ? second : obj.second;\n\t\t\t\t\tobj.ampm = ampm || obj.ampm;\n\t\t\t\t}\n\n\t\t\t\tobj = self.update(obj);\n\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t};\n\n\t\treturn self;\n\t});\n\n})(angular.module('ckronos'));\n","(function(ckronos){\n\t'use strict';\n\n\tckronos.directive('ckronosTime', function(CKronos, $compile, $timeout){\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope: {\n\t\t\t\tshowSeconds: '=?'\n\t\t\t},\n\t\t\trequire:'ngModel',\n\t\t\tlink: function(scope, elm, attrs, ngModel){\n\t\t\t\tvar model = ngModel.$modelValue;\n\t\t\t\tvar id = attrs.overlay;\n\t\t\t\tvar toggleSelector = attrs.toggler;\n\t\t\t\tvar originalValue = angular.copy(model);\n\t\t\t\tscope.active = false;\n\n\t\t\t\tangular.element(document.getElementById(toggleSelector)).bind('click', function(){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tscope.active = true;\n\t\t\t\t\t\tangular.element(document.body).addClass('ckronos-blur');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tscope.dateObject = CKronos.parseDate(model);\n\n\t\t\t\tfunction compile(){\n\t\t\t\t\tif(document.getElementById(id)){\n\t\t\t\t\t\tdocument.body.removeChild(document.getElementById(id));\n\t\t\t\t\t}\n\n\t\t\t\t\tvar template = '<div class=\"ckronos-date-time-wrapper\" ng-class=\"active? \\'active\\' : \\'\\'\" id=\"'+ id +'\">' +\n\t\t\t\t\t'<div class=\"ckronos-date-time-inner\">' +\n\t\t\t\t\t'<ckronos-clock date=\"dateObject.date\" update=\"updateTime\" show-seconds=\"showSeconds\" class=\"clickable\"></ckronos-clock>' +\n\t\t\t\t\t'<ckronos-buttons cancel=\"cancel\" update=\"updateAndClose\"></ckronos-buttons>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>';\n\n\t\t\t\t\tvar content = $compile(template)(scope);\n\t\t\t\t\tangular.element(document.body).append(content);\n\t\t\t\t}\n\n\t\t\t\tfunction updateModel(data){\n\t\t\t\t\tngModel.$setViewValue(data.date);\n\t\t\t\t\treturn ngModel.$modelValue;\n\t\t\t\t}\n\n\t\t\t\tscope.close = function() {\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tscope.active = false;\n\t\t\t\t\t\tangular.element(document.body).removeClass('ckronos-blur');\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tscope.cancel = function() {\n\t\t\t\t\tscope.dateObject = CKronos.parseDate(originalValue);\n\t\t\t\t\tscope.close();\n\t\t\t\t};\n\n\t\t\t\tscope.updateTime = function(value) {\n\t\t\t\t\tscope.dateObject.time = value;\n\t\t\t\t\tscope.dateObject = CKronos.update(scope.dateObject);\n\t\t\t\t};\n\n\t\t\t\tscope.updateAndClose = function(){\n\t\t\t\t\tupdateModel(scope.dateObject);\n\t\t\t\t\tscope.close();\n\t\t\t\t};\n\n\t\t\t\tscope.$watch(function(){\n\t\t\t\t\treturn ngModel.$modelValue;\n\t\t\t\t}, function(modelValue){\n\t\t\t\t\tif(modelValue && CKronos.validDate(modelValue)) {\n\t\t\t\t\t\tmodel = modelValue;\n\t\t\t\t\t\toriginalValue = angular.copy(model);\n\t\t\t\t\t\tscope.dateObject = CKronos.parseDate(model);\n\t\t\t\t\t\tcompile();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\telm.on('$destroy', function(){\n\t\t\t\t\tscope.$destroy();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n\n})(angular.module('ckronos'));\n"],"sourceRoot":"/source/"}